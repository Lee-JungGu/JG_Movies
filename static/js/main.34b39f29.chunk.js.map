{"version":3,"sources":["components/Genre.js","components/Loader.js","components/Movie.js","components/Footer.js","routes/Main.js","components/SearchBox.js","routes/Search.js","routes/MovieInfo.js","components/Header.js","components/TopButton.js","App.js","index.js"],"names":["Genre","getGenre","startX","currentX","className","draggable","onTouchStart","e","changedTouches","clientX","onTouchMove","document","querySelector","style","left","data-genre","onClick","Loader","name","Movie","year","title","summary","poster","genres","rating","to","pathname","state","src","alt","toString","includes","map","genre","index","length","slice","Footer","Main","isLoading","movies","apiUrl","pageNumber","getMovies","a","axios","get","data","setState","clickGetGenre","props","target","dataset","window","scroll","top","behavior","getPage","scrollTop","scrollingElement","scrollBottom","scrollHeight","clientHeight","numberOfMovie","loader","checkLoading","classList","add","newPage","concat","remove","scrollEvent","addEventListener","removeScrollEvent","removeEventListener","this","movie","id","medium_cover_image","React","Component","SearchBox","searchUseKey","searchUseClick","action","type","placeholder","autoComplete","onKeyUp","required","Search","useState","setIsLoading","setMovies","setApiUrl","setPageNumber","searchMount","useRef","value","NEW_API_URL","key","searchMovies","useEffect","undefined","console","log","current","MovieInfo","location","history","push","Header","moveTop","TopButton","appearArrow","currentY","topButton","App","path","exact","component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.34b39f29.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./Genre.css\";\r\n\r\nfunction Genre({ getGenre }) {\r\n  let startX = 0;\r\n  let currentX = 0;\r\n  const dragStart = (e) => {\r\n    startX = e.changedTouches[0].clientX;\r\n    // console.log(\"start\", e);\r\n  };\r\n  const drag = (e) => {\r\n    const MAX_LEFT = 20;\r\n    const MAX_RIGHT = -50;\r\n    const SLIDER_SPEED = 10;\r\n    if (startX > e.changedTouches[0].clientX) {\r\n      if (currentX > MAX_RIGHT) {\r\n        currentX =\r\n          e.changedTouches[0].clientX -\r\n          (e.changedTouches[0].clientX + SLIDER_SPEED) +\r\n          currentX;\r\n      }\r\n    } else {\r\n      if (currentX < MAX_LEFT) {\r\n        currentX =\r\n          e.changedTouches[0].clientX -\r\n          (e.changedTouches[0].clientX - SLIDER_SPEED) +\r\n          currentX;\r\n      }\r\n    }\r\n    const dragMenu = document.querySelector(\".drag_menu\");\r\n    dragMenu.style.left = `${currentX}px`;\r\n  };\r\n  return (\r\n    <div className=\"genre_menu\">\r\n      <ul\r\n        className=\"drag_menu\"\r\n        draggable=\"true\"\r\n        onTouchStart={dragStart}\r\n        onTouchMove={drag}\r\n      >\r\n        <li>\r\n          <p data-genre=\"all\" onClick={getGenre}>\r\n            All\r\n          </p>\r\n        </li>\r\n\r\n        <li>\r\n          <p data-genre=\"action\" onClick={getGenre}>\r\n            Action\r\n          </p>\r\n        </li>\r\n\r\n        <li>\r\n          <p data-genre=\"thriller\" onClick={getGenre}>\r\n            Thriller\r\n          </p>\r\n        </li>\r\n\r\n        <li>\r\n          <p data-genre=\"romance\" onClick={getGenre}>\r\n            Romance\r\n          </p>\r\n        </li>\r\n\r\n        <li>\r\n          <p data-genre=\"comedy\" onClick={getGenre}>\r\n            Comedy\r\n          </p>\r\n        </li>\r\n\r\n        <li>\r\n          <p data-genre=\"animation\" onClick={getGenre}>\r\n            Animation\r\n          </p>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nGenre.propTypes = {\r\n  getGenre: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Genre;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction Loader({ name }) {\r\n  return (\r\n    <div className={name}>\r\n      <span className=\"loader_text\">Loding...</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nLoader.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Loader;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Movie.css\";\r\n\r\nfunction Movie({ year, title, summary, poster, genres, rating }) {\r\n  return (\r\n    <Link\r\n      to={{\r\n        pathname: \"/Info\",\r\n        state: {\r\n          year,\r\n          title,\r\n          summary,\r\n          poster,\r\n          genres,\r\n          rating,\r\n        },\r\n      }}\r\n      className=\"movie\"\r\n    >\r\n      <div>\r\n        <img src={poster} alt={title} title={title} />\r\n        <div className=\"movie_data\">\r\n          <h3 className=\"movie_title\">\r\n            {title} <span className=\"title_year\">{year}</span>\r\n          </h3>\r\n          <h4 className=\"movie_rating\">\r\n            {rating.toString().includes(\".\") ? rating : `${rating}.0`}\r\n          </h4>\r\n          <ul className=\"genres\">\r\n            {genres.map((genre, index) => (\r\n              <li key={index} className=\"genres_genre\">\r\n                {genre}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          <p className=\"movie_summary\">\r\n            {summary.length > 160 ? `${summary.slice(0, 160)}...` : summary}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\n\r\nMovie.propTypes = {\r\n  id: PropTypes.number.isRequired,\r\n  year: PropTypes.number.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  summary: PropTypes.string.isRequired,\r\n  poster: PropTypes.string.isRequired,\r\n  genres: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n  rating: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default Movie;\r\n","import React from \"react\";\r\nimport \"./Footer.css\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p>© JG Movies</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport Genre from \"../components/Genre\";\r\nimport Loader from \"../components/Loader\";\r\nimport Movie from \"../components/Movie\";\r\nimport Footer from \"../components/Footer\";\r\nimport \"./Main.css\";\r\nimport \"../components/Reset.css\";\r\n\r\nclass Main extends React.Component {\r\n  state = {\r\n    isLoading: true,\r\n    movies: [],\r\n    apiUrl:\r\n      \"https://yts.mx/api/v2/list_movies.json?sort_by=rating&limit=24&genre=all\",\r\n    pageNumber: 1,\r\n  };\r\n  getMovies = async () => {\r\n    const {\r\n      data: {\r\n        data: { movies },\r\n      },\r\n    } = await axios.get(this.state.apiUrl);\r\n    this.setState({ isLoading: false, movies });\r\n  };\r\n\r\n  clickGetGenre = (props) => {\r\n    const {\r\n      target: {\r\n        dataset: { genre },\r\n      },\r\n    } = props;\r\n\r\n    this.state.apiUrl !==\r\n      `https://yts.mx/api/v2/list_movies.json?sort_by=rating&limit=24&genre=${genre}` &&\r\n      this.setState({\r\n        isLoading: true,\r\n        apiUrl: `https://yts.mx/api/v2/list_movies.json?sort_by=rating&limit=24&genre=${genre}`,\r\n      });\r\n\r\n    window.scroll({\r\n      top: 0,\r\n      left: 0,\r\n      behavior: \"smooth\",\r\n    });\r\n\r\n    this.setState({ pageNumber: 1 });\r\n  };\r\n\r\n  getPage = async () => {\r\n    const scrollTop = document.scrollingElement.scrollTop;\r\n    const scrollBottom =\r\n      document.scrollingElement.scrollHeight -\r\n      document.scrollingElement.clientHeight -\r\n      200;\r\n    const numberOfMovie = this.state.movies.length;\r\n    const pageNumber = this.state.pageNumber;\r\n    const loader = document.querySelector(\".loader_scroll\");\r\n    const isLoading = this.state.isLoading;\r\n    const checkLoading = loader.className.includes(\"show\");\r\n    if (\r\n      scrollTop >= scrollBottom &&\r\n      numberOfMovie === 24 * pageNumber &&\r\n      !checkLoading &&\r\n      !isLoading\r\n    ) {\r\n      loader.classList.add(\"show\");\r\n      try {\r\n        const {\r\n          data: {\r\n            data: { movies },\r\n          },\r\n        } = await axios.get(`${this.state.apiUrl}&page=${pageNumber + 1}`);\r\n        const newPage = this.state.movies.concat(movies);\r\n        const limitPage = 16;\r\n        pageNumber < limitPage &&\r\n          this.setState({ movies: newPage, pageNumber: pageNumber + 1 });\r\n      } finally {\r\n        loader.classList.remove(\"show\");\r\n      }\r\n    }\r\n  };\r\n  scrollEvent = () => {\r\n    document.addEventListener(\"scroll\", this.getPage);\r\n  };\r\n  removeScrollEvent = () => {\r\n    document.removeEventListener(\"scroll\", this.getPage);\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getMovies();\r\n    this.scrollEvent();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.state.isLoading === false || this.getMovies();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.removeScrollEvent();\r\n  }\r\n\r\n  render() {\r\n    const { isLoading, movies } = this.state;\r\n    return (\r\n      <section className=\"container\">\r\n        <Loader name={\"loader_scroll\"} />\r\n        {isLoading ? (\r\n          <Loader name={\"loader\"} />\r\n        ) : (\r\n          <div className=\"contents\">\r\n            <Genre getGenre={this.clickGetGenre} />\r\n            <div className=\"movies\">\r\n              {movies.map((movie, index) => (\r\n                <Movie\r\n                  key={index}\r\n                  id={movie.id}\r\n                  year={movie.year}\r\n                  genres={movie.genres}\r\n                  title={movie.title}\r\n                  rating={movie.rating}\r\n                  summary={movie.summary}\r\n                  poster={movie.medium_cover_image}\r\n                />\r\n              ))}\r\n            </div>\r\n            <Footer />\r\n          </div>\r\n        )}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\nimport \"./SearchBox.css\";\r\nimport PropTyeps from \"prop-types\";\r\n\r\nfunction SearchBox({ searchUseKey, searchUseClick }) {\r\n  return (\r\n    <div className=\"search_box\" action=\"#\">\r\n      <input\r\n        type=\"search\"\r\n        placeholder=\"Search movies...\"\r\n        autoComplete=\"off\"\r\n        onKeyUp={searchUseKey}\r\n        required\r\n      />\r\n      <button onClick={searchUseClick}>\r\n        <i className=\"fas fa-search\"></i>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nSearchBox.propTypes = {\r\n  searchUseKey: PropTyeps.func.isRequired,\r\n  searchUseClick: PropTyeps.func.isRequired,\r\n};\r\n\r\nexport default SearchBox;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport axios from \"axios\";\r\nimport Loader from \"../components/Loader\";\r\nimport SearchBox from \"../components/SearchBox\";\r\nimport Movie from \"../components/Movie\";\r\nimport Footer from \"../components/Footer\";\r\nimport \"./Search.css\";\r\n\r\nfunction Search() {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [movies, setMovies] = useState([]);\r\n  const [apiUrl, setApiUrl] = useState(\r\n    \"https://yts.mx/api/v2/list_movies.json?sort_by=rating&limit=24\"\r\n  );\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const searchMount = useRef(true);\r\n\r\n  const searchUseKey = async (props) => {\r\n    const loader = document.querySelector(\".loader_scroll\");\r\n    const {\r\n      target: { value },\r\n    } = props;\r\n    const NEW_API_URL = `https://yts.mx/api/v2/list_movies.json?sort_by=rating&limit=24&query_term=${value}`;\r\n\r\n    if (props.key === \"Enter\" && !loader.className.includes(\"show\")) {\r\n      try {\r\n        loader.classList.add(\"show\");\r\n        await axios.get(NEW_API_URL);\r\n        setApiUrl(NEW_API_URL);\r\n      } finally {\r\n        setPageNumber(1);\r\n        loader.classList.remove(\"show\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const searchUseClick = async () => {\r\n    const value = document.querySelector(\".search_box input\").value;\r\n    const NEW_API_URL = `https://yts.mx/api/v2/list_movies.json?sort_by=rating&limit=24&query_term=${value}`;\r\n\r\n    try {\r\n      await axios.get(NEW_API_URL);\r\n      setApiUrl(NEW_API_URL);\r\n    } finally {\r\n      setPageNumber(1);\r\n    }\r\n  };\r\n\r\n  const getPage = async () => {\r\n    const scrollTop = document.scrollingElement.scrollTop;\r\n    const scrollBottom =\r\n      document.scrollingElement.scrollHeight -\r\n      document.scrollingElement.clientHeight -\r\n      200;\r\n    const numberOfMovie = movies.length;\r\n    const loader = document.querySelector(\".loader_scroll\");\r\n    if (\r\n      scrollTop >= scrollBottom &&\r\n      numberOfMovie === 24 * pageNumber &&\r\n      !loader.className.includes(\"show\")\r\n    ) {\r\n      loader.classList.add(\"show\");\r\n      try {\r\n        const {\r\n          data: {\r\n            data: { movies: searchMovies },\r\n          },\r\n        } = await axios.get(`${apiUrl}&page=${pageNumber + 1}`);\r\n        const newPage = movies.concat(searchMovies);\r\n        const limitPage = 16;\r\n        if (pageNumber < limitPage) {\r\n          setPageNumber(pageNumber + 1);\r\n          setMovies(newPage);\r\n        }\r\n      } finally {\r\n        loader.classList.remove(\"show\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const scrollEvent = () => {\r\n    document.addEventListener(\"scroll\", getPage);\r\n  };\r\n  const removeScrollEvent = () => {\r\n    document.removeEventListener(\"scroll\", getPage);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getMovies = async () => {\r\n      try {\r\n        const {\r\n          data: {\r\n            data: { movies },\r\n          },\r\n        } = await axios.get(apiUrl);\r\n        if (movies === undefined) {\r\n          console.log(\"그런거 없어요\");\r\n          setMovies([]);\r\n        } else {\r\n          setMovies(movies);\r\n        }\r\n      } catch {\r\n        console.log(\"에러가 났어요\");\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    if (searchMount.current) {\r\n      searchMount.current = false;\r\n    } else {\r\n      getMovies();\r\n    }\r\n  }, [apiUrl]);\r\n\r\n  useEffect(() => {\r\n    scrollEvent();\r\n    return () => {\r\n      removeScrollEvent();\r\n    };\r\n  });\r\n\r\n  // useEffect(() => {\r\n  //   const getMovies = async () => {\r\n  //     try {\r\n  //       const {\r\n  //         data: {\r\n  //           data: { movies },\r\n  //         },\r\n  //       } = await axios.get(apiUrl);\r\n  //       if (movies === undefined) {\r\n  //         console.log(\"그런거 없어요\");\r\n  //         setMovies([]);\r\n  //       } else {\r\n  //         setMovies(movies);\r\n  //       }\r\n  //     } catch {\r\n  //       console.log(\"에러가 났어요\");\r\n  //     } finally {\r\n  //       setIsLoading(false);\r\n  //     }\r\n  //   };\r\n\r\n  //   getMovies();\r\n  // }, [apiUrl]);\r\n\r\n  // useEffect(() => {\r\n  //   const getPage = async () => {\r\n  //     const scrollTop = document.scrollingElement.scrollTop;\r\n  //     const scrollBottom =\r\n  //       document.scrollingElement.scrollHeight -\r\n  //       document.scrollingElement.clientHeight -\r\n  //       200;\r\n  //     const numberOfMovie = movies.length;\r\n  //     const loader = document.querySelector(\".loader_scroll\");\r\n  //     if (\r\n  //       scrollTop >= scrollBottom &&\r\n  //       numberOfMovie === 24 * pageNumber &&\r\n  //       !loader.className.includes(\"show\")\r\n  //     ) {\r\n  //       loader.classList.add(\"show\");\r\n  //       try {\r\n  //         const {\r\n  //           data: {\r\n  //             data: { movies: searchMovies },\r\n  //           },\r\n  //         } = await axios.get(`${apiUrl}&page=${pageNumber + 1}`);\r\n  //         const newPage = movies.concat(searchMovies);\r\n  //         const limitPage = 16;\r\n  //         if (pageNumber < limitPage) {\r\n  //           setPageNumber((pageNumber) => pageNumber + 1);\r\n  //           console.log(\"aaa\");\r\n  //           setMovies(newPage);\r\n  //         }\r\n  //       } finally {\r\n  //         loader.classList.remove(\"show\");\r\n  //       }\r\n  //     }\r\n  //   };\r\n\r\n  //   const scrollEvent = () => {\r\n  //     document.addEventListener(\"scroll\", getPage);\r\n  //   };\r\n\r\n  //   scrollEvent();\r\n\r\n  //   return () => {\r\n  //     const removeScrollEvent = () => {\r\n  //       document.removeEventListener(\"scroll\", getPage);\r\n  //     };\r\n\r\n  //     removeScrollEvent();\r\n  //   };\r\n  // });\r\n\r\n  return (\r\n    <section className=\"container_sc\">\r\n      <SearchBox searchUseKey={searchUseKey} searchUseClick={searchUseClick} />\r\n      <Loader name={\"loader_scroll\"} />\r\n      {isLoading ? (\r\n        <div></div>\r\n      ) : (\r\n        <div className=\"contents\">\r\n          <div className=\"movies\">\r\n            {movies.map((movie, index) => (\r\n              <Movie\r\n                key={index}\r\n                id={movie.id}\r\n                year={movie.year}\r\n                genres={movie.genres}\r\n                title={movie.title}\r\n                rating={movie.rating}\r\n                summary={movie.summary}\r\n                poster={movie.medium_cover_image}\r\n              />\r\n            ))}\r\n          </div>\r\n          <Footer />\r\n        </div>\r\n      )}\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\n// import PropTypes from \"prop-types\";\r\nimport \"./MovieInfo.css\";\r\n\r\nclass MovieInfo extends React.Component {\r\n  componentDidMount() {\r\n    const { location, history } = this.props;\r\n    if (location.state === undefined) {\r\n      history.push(\"/\");\r\n    }\r\n  }\r\n  render() {\r\n    const {\r\n      location: { state },\r\n    } = this.props;\r\n    if (state) {\r\n      return (\r\n        <section className=\"movie_info\">\r\n          <img src={state.poster} alt={state.title} title={state.title} />\r\n          <div className=\"movie_data\">\r\n            <h3 className=\"movie_title\">\r\n              {state.title} <span className=\"title_year\">{state.year}</span>\r\n            </h3>\r\n            <h4 className=\"movie_rating\">\r\n              {state.rating.toString().includes(\".\")\r\n                ? state.rating\r\n                : `${state.rating}.0`}\r\n            </h4>\r\n            <ul className=\"genres\">\r\n              {state.genres.map((genre, index) => (\r\n                <li key={index} className=\"genres_genre\">\r\n                  {genre}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n            <p className=\"movie_summary\">\r\n              {state.summary.length > 160\r\n                ? `${state.summary.slice(0, 160)}...`\r\n                : state.summary}\r\n            </p>\r\n          </div>\r\n        </section>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\nexport default MovieInfo;\r\n","import React from \"react\";\r\nimport \"./Header.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Header() {\r\n  const moveTop = () => {\r\n    window.scroll({\r\n      top: 0,\r\n      left: 0,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <h1 className=\"logo\" onClick={moveTop}>\r\n        <Link to=\"/\">JG Movies</Link>\r\n      </h1>\r\n      <nav className=\"gnb\">\r\n        <ul>\r\n          <li onClick={moveTop}>\r\n            <Link to=\"/\">\r\n              <i className=\"fas fa-home\"></i>\r\n            </Link>\r\n          </li>\r\n\r\n          <li onClick={moveTop}>\r\n            <Link to=\"/Search\">\r\n              <i className=\"fas fa-search\"></i>\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React, { useEffect } from \"react\";\r\nimport \"./TopButton.css\";\r\n\r\nfunction TopButton() {\r\n  const moveTop = () => {\r\n    window.scroll({\r\n      top: 0,\r\n      left: 0,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  const appearArrow = () => {\r\n    const currentY = document.scrollingElement.scrollTop;\r\n    const APPEAR_HEIGHT = 100;\r\n    const topButton = document.querySelector(\".top_button\");\r\n    console.log(currentY);\r\n    if (currentY > APPEAR_HEIGHT) {\r\n      topButton.classList.remove(\"hide\");\r\n    } else {\r\n      topButton.classList.add(\"hide\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const scrollEvent = () => {\r\n      window.addEventListener(\"scroll\", appearArrow);\r\n    };\r\n    scrollEvent();\r\n    return () => {\r\n      const removeScrollEvent = () => {\r\n        window.removeEventListener(\"scroll\", appearArrow);\r\n      };\r\n      removeScrollEvent();\r\n    };\r\n  }, []);\r\n  return (\r\n    <aside>\r\n      <div className=\"top_button hide\" onClick={moveTop}>\r\n        <i className=\"fas fa-arrow-circle-up\"></i>\r\n      </div>\r\n    </aside>\r\n  );\r\n}\r\n\r\nexport default TopButton;\r\n","import React from \"react\";\r\nimport Main from \"./routes/Main\";\r\nimport Search from \"./routes/Search\";\r\nimport MovieInfo from \"./routes/MovieInfo\";\r\nimport Header from \"./components/Header\";\r\nimport TopButton from \"./components/TopButton\";\r\nimport { HashRouter, Route } from \"react-router-dom\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <HashRouter>\r\n      <Header />\r\n      <TopButton />\r\n      <Route path=\"/\" exact={true} component={Main} />\r\n      <Route path=\"/Search\" component={Search} />\r\n      <Route path=\"/Info\" component={MovieInfo} />\r\n    </HashRouter>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}