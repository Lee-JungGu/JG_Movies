{"version":3,"sources":["components/Genre.js","components/Loader.js","components/Movie.js","components/Footer.js","routes/Main.js","components/SearchBox.js","routes/Search.js","routes/MovieInfo.js","components/Header.js","components/TopButton.js","App.js","index.js"],"names":["Genre","getGenre","startX","currentX","className","draggable","onTouchStart","e","changedTouches","clientX","onTouchMove","document","querySelector","style","left","data-genre","onClick","Loader","name","Movie","year","title","summary","poster","genres","rating","to","pathname","state","window","scroll","src","alt","toString","includes","map","genre","index","length","slice","Footer","Main","isLoading","movies","apiUrl","pageNumber","getMovies","a","axios","get","data","setState","clickGetGenre","props","target","dataset","top","behavior","getPage","scrollTop","scrollingElement","scrollBottom","scrollHeight","clientHeight","numberOfMovie","loader","checkLoading","classList","add","newPage","concat","remove","scrollEvent","addEventListener","removeScrollEvent","removeEventListener","this","movie","id","medium_cover_image","React","Component","SearchBox","searchUseKey","searchUseClick","action","type","placeholder","autoComplete","onKeyUp","required","Search","useState","setIsLoading","setMovies","setApiUrl","setPageNumber","searchMount","useRef","value","NEW_API_URL","key","searchMovies","useEffect","undefined","console","log","current","MovieInfo","location","history","push","Header","moveTop","TopButton","appearArrow","currentY","topButton","scrollTo","currentTarget","App","path","exact","component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.48a59153.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./Genre.css\";\r\n\r\nfunction Genre({ getGenre }) {\r\n  let startX = 0;\r\n  let currentX = 0;\r\n  const dragStart = (e) => {\r\n    startX = e.changedTouches[0].clientX;\r\n    // console.log(\"start\", e);\r\n  };\r\n  const drag = (e) => {\r\n    const MAX_LEFT = 20;\r\n    const MAX_RIGHT = -50;\r\n    const SLIDER_SPEED = 10;\r\n    if (startX > e.changedTouches[0].clientX) {\r\n      if (currentX > MAX_RIGHT) {\r\n        currentX =\r\n          e.changedTouches[0].clientX -\r\n          (e.changedTouches[0].clientX + SLIDER_SPEED) +\r\n          currentX;\r\n      }\r\n    } else {\r\n      if (currentX < MAX_LEFT) {\r\n        currentX =\r\n          e.changedTouches[0].clientX -\r\n          (e.changedTouches[0].clientX - SLIDER_SPEED) +\r\n          currentX;\r\n      }\r\n    }\r\n    const dragMenu = document.querySelector(\".drag_menu\");\r\n    dragMenu.style.left = `${currentX}px`;\r\n  };\r\n  return (\r\n    <div className=\"genre_menu\">\r\n      <ul\r\n        className=\"drag_menu\"\r\n        draggable=\"true\"\r\n        onTouchStart={dragStart}\r\n        onTouchMove={drag}\r\n      >\r\n        <li>\r\n          <p data-genre=\"all\" onClick={getGenre}>\r\n            All\r\n          </p>\r\n        </li>\r\n\r\n        <li>\r\n          <p data-genre=\"action\" onClick={getGenre}>\r\n            Action\r\n          </p>\r\n        </li>\r\n\r\n        <li>\r\n          <p data-genre=\"thriller\" onClick={getGenre}>\r\n            Thriller\r\n          </p>\r\n        </li>\r\n\r\n        <li>\r\n          <p data-genre=\"romance\" onClick={getGenre}>\r\n            Romance\r\n          </p>\r\n        </li>\r\n\r\n        <li>\r\n          <p data-genre=\"comedy\" onClick={getGenre}>\r\n            Comedy\r\n          </p>\r\n        </li>\r\n\r\n        <li>\r\n          <p data-genre=\"animation\" onClick={getGenre}>\r\n            Animation\r\n          </p>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nGenre.propTypes = {\r\n  getGenre: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Genre;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction Loader({ name }) {\r\n  return (\r\n    <div className={name}>\r\n      <span className=\"loader_text\">Loding...</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nLoader.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Loader;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Movie.css\";\r\n\r\nfunction Movie({ year, title, summary, poster, genres, rating }) {\r\n  const SUMMARY_TEXT_LIMIT = 100;\r\n  const moveTop = () => {\r\n    window.scroll(0, 0);\r\n  };\r\n  return (\r\n    <Link\r\n      to={{\r\n        pathname: \"/Info\",\r\n        state: {\r\n          year,\r\n          title,\r\n          summary,\r\n          poster,\r\n          genres,\r\n          rating,\r\n        },\r\n      }}\r\n      className=\"movie\"\r\n      onClick={moveTop}\r\n    >\r\n      <div>\r\n        <img src={poster} alt={title} title={title} />\r\n        <div className=\"movie_data\">\r\n          <h3 className=\"movie_title\">\r\n            {title} <span className=\"title_year\">{year}</span>\r\n          </h3>\r\n          <h4 className=\"movie_rating\">\r\n            {rating.toString().includes(\".\") ? rating : `${rating}.0`}\r\n          </h4>\r\n          <ul className=\"genres\">\r\n            {genres.map((genre, index) => (\r\n              <li key={index} className=\"genres_genre\">\r\n                {genre}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          <p className=\"movie_summary\">\r\n            {summary.length > SUMMARY_TEXT_LIMIT\r\n              ? `${summary.slice(0, SUMMARY_TEXT_LIMIT)}...`\r\n              : summary}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\n\r\nMovie.propTypes = {\r\n  id: PropTypes.number.isRequired,\r\n  year: PropTypes.number.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  summary: PropTypes.string.isRequired,\r\n  poster: PropTypes.string.isRequired,\r\n  genres: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n  rating: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default Movie;\r\n","import React from \"react\";\r\nimport \"./Footer.css\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p>© JG Movies</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport Genre from \"../components/Genre\";\r\nimport Loader from \"../components/Loader\";\r\nimport Movie from \"../components/Movie\";\r\nimport Footer from \"../components/Footer\";\r\nimport \"./Main.css\";\r\nimport \"../components/Reset.css\";\r\n\r\nclass Main extends React.Component {\r\n  state = {\r\n    isLoading: true,\r\n    movies: [],\r\n    apiUrl:\r\n      \"https://yts.mx/api/v2/list_movies.json?sort_by=rating&limit=24&genre=all\",\r\n    pageNumber: 1,\r\n  };\r\n  getMovies = async () => {\r\n    const {\r\n      data: {\r\n        data: { movies },\r\n      },\r\n    } = await axios.get(this.state.apiUrl);\r\n    this.setState({ isLoading: false, movies });\r\n  };\r\n\r\n  clickGetGenre = (props) => {\r\n    const {\r\n      target: {\r\n        dataset: { genre },\r\n      },\r\n    } = props;\r\n\r\n    this.state.apiUrl !==\r\n      `https://yts.mx/api/v2/list_movies.json?sort_by=rating&limit=24&genre=${genre}` &&\r\n      this.setState({\r\n        isLoading: true,\r\n        apiUrl: `https://yts.mx/api/v2/list_movies.json?sort_by=rating&limit=24&genre=${genre}`,\r\n      });\r\n\r\n    window.scroll({\r\n      top: 0,\r\n      left: 0,\r\n      behavior: \"smooth\",\r\n    });\r\n\r\n    this.setState({ pageNumber: 1 });\r\n  };\r\n\r\n  getPage = async () => {\r\n    const scrollTop = document.scrollingElement.scrollTop;\r\n    const scrollBottom =\r\n      document.scrollingElement.scrollHeight -\r\n      document.scrollingElement.clientHeight -\r\n      200;\r\n    const numberOfMovie = this.state.movies.length;\r\n    const pageNumber = this.state.pageNumber;\r\n    const loader = document.querySelector(\".loader_scroll\");\r\n    const isLoading = this.state.isLoading;\r\n    const checkLoading = loader.className.includes(\"show\");\r\n    if (\r\n      scrollTop >= scrollBottom &&\r\n      numberOfMovie === 24 * pageNumber &&\r\n      !checkLoading &&\r\n      !isLoading\r\n    ) {\r\n      loader.classList.add(\"show\");\r\n      try {\r\n        const {\r\n          data: {\r\n            data: { movies },\r\n          },\r\n        } = await axios.get(`${this.state.apiUrl}&page=${pageNumber + 1}`);\r\n        const newPage = this.state.movies.concat(movies);\r\n        const limitPage = 16;\r\n        pageNumber < limitPage &&\r\n          this.setState({ movies: newPage, pageNumber: pageNumber + 1 });\r\n      } finally {\r\n        loader.classList.remove(\"show\");\r\n      }\r\n    }\r\n  };\r\n  scrollEvent = () => {\r\n    document.addEventListener(\"scroll\", this.getPage);\r\n  };\r\n  removeScrollEvent = () => {\r\n    document.removeEventListener(\"scroll\", this.getPage);\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getMovies();\r\n    this.scrollEvent();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.state.isLoading === false || this.getMovies();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.removeScrollEvent();\r\n  }\r\n\r\n  render() {\r\n    const { isLoading, movies } = this.state;\r\n    return (\r\n      <section className=\"container\">\r\n        <Loader name={\"loader_scroll\"} />\r\n        {isLoading ? (\r\n          <Loader name={\"loader\"} />\r\n        ) : (\r\n          <div className=\"contents\">\r\n            <Genre getGenre={this.clickGetGenre} />\r\n            <div className=\"movies\">\r\n              {movies.map((movie, index) => (\r\n                <Movie\r\n                  key={index}\r\n                  id={movie.id}\r\n                  year={movie.year}\r\n                  genres={movie.genres}\r\n                  title={movie.title}\r\n                  rating={movie.rating}\r\n                  summary={movie.summary}\r\n                  poster={movie.medium_cover_image}\r\n                />\r\n              ))}\r\n            </div>\r\n            <Footer />\r\n          </div>\r\n        )}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\nimport \"./SearchBox.css\";\r\nimport PropTyeps from \"prop-types\";\r\n\r\nfunction SearchBox({ searchUseKey, searchUseClick }) {\r\n  return (\r\n    <div className=\"search_box\" action=\"#\">\r\n      <input\r\n        type=\"search\"\r\n        placeholder=\"Search movies...\"\r\n        autoComplete=\"off\"\r\n        onKeyUp={searchUseKey}\r\n        required\r\n      />\r\n      <span className=\"search_boder_bottom\"></span>\r\n      <button onClick={searchUseClick}>\r\n        <i className=\"fas fa-search\"></i>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nSearchBox.propTypes = {\r\n  searchUseKey: PropTyeps.func.isRequired,\r\n  searchUseClick: PropTyeps.func.isRequired,\r\n};\r\n\r\nexport default SearchBox;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport axios from \"axios\";\r\nimport Loader from \"../components/Loader\";\r\nimport SearchBox from \"../components/SearchBox\";\r\nimport Movie from \"../components/Movie\";\r\nimport Footer from \"../components/Footer\";\r\nimport \"./Search.css\";\r\n\r\nfunction Search() {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [movies, setMovies] = useState([]);\r\n  const [apiUrl, setApiUrl] = useState(\r\n    \"https://yts.mx/api/v2/list_movies.json?sort_by=rating&limit=24\"\r\n  );\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const searchMount = useRef(true);\r\n\r\n  const searchUseKey = async (props) => {\r\n    const loader = document.querySelector(\".loader_scroll\");\r\n    const {\r\n      target: { value },\r\n    } = props;\r\n    const NEW_API_URL = `https://yts.mx/api/v2/list_movies.json?sort_by=rating&limit=24&query_term=${value}`;\r\n\r\n    if (props.key === \"Enter\" && !loader.className.includes(\"show\")) {\r\n      try {\r\n        loader.classList.add(\"show\");\r\n        await axios.get(NEW_API_URL);\r\n        setApiUrl(NEW_API_URL);\r\n      } finally {\r\n        setPageNumber(1);\r\n        loader.classList.remove(\"show\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const searchUseClick = async () => {\r\n    const value = document.querySelector(\".search_box input\").value;\r\n    const NEW_API_URL = `https://yts.mx/api/v2/list_movies.json?sort_by=rating&limit=24&query_term=${value}`;\r\n\r\n    try {\r\n      await axios.get(NEW_API_URL);\r\n      setApiUrl(NEW_API_URL);\r\n    } finally {\r\n      setPageNumber(1);\r\n    }\r\n  };\r\n\r\n  const getPage = async () => {\r\n    const scrollTop = document.scrollingElement.scrollTop;\r\n    const scrollBottom =\r\n      document.scrollingElement.scrollHeight -\r\n      document.scrollingElement.clientHeight -\r\n      200;\r\n    const numberOfMovie = movies.length;\r\n    const loader = document.querySelector(\".loader_scroll\");\r\n    if (\r\n      scrollTop >= scrollBottom &&\r\n      numberOfMovie === 24 * pageNumber &&\r\n      !loader.className.includes(\"show\")\r\n    ) {\r\n      loader.classList.add(\"show\");\r\n      try {\r\n        const {\r\n          data: {\r\n            data: { movies: searchMovies },\r\n          },\r\n        } = await axios.get(`${apiUrl}&page=${pageNumber + 1}`);\r\n        const newPage = movies.concat(searchMovies);\r\n        const limitPage = 16;\r\n        if (pageNumber < limitPage) {\r\n          setPageNumber(pageNumber + 1);\r\n          setMovies(newPage);\r\n        }\r\n      } finally {\r\n        loader.classList.remove(\"show\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const scrollEvent = () => {\r\n    document.addEventListener(\"scroll\", getPage);\r\n  };\r\n  const removeScrollEvent = () => {\r\n    document.removeEventListener(\"scroll\", getPage);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getMovies = async () => {\r\n      try {\r\n        const {\r\n          data: {\r\n            data: { movies },\r\n          },\r\n        } = await axios.get(apiUrl);\r\n        if (movies === undefined) {\r\n          console.log(\"그런거 없어요\");\r\n          setMovies([]);\r\n        } else {\r\n          setMovies(movies);\r\n        }\r\n      } catch {\r\n        console.log(\"에러가 났어요\");\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    if (searchMount.current) {\r\n      searchMount.current = false;\r\n    } else {\r\n      getMovies();\r\n    }\r\n  }, [apiUrl]);\r\n\r\n  useEffect(() => {\r\n    scrollEvent();\r\n    return () => {\r\n      removeScrollEvent();\r\n    };\r\n  });\r\n\r\n  return (\r\n    <section className=\"container_sc\">\r\n      <SearchBox searchUseKey={searchUseKey} searchUseClick={searchUseClick} />\r\n      <Loader name={\"loader_scroll\"} />\r\n      {isLoading ? (\r\n        <div></div>\r\n      ) : (\r\n        <div className=\"contents\">\r\n          <div className=\"movies\">\r\n            {movies.map((movie, index) => (\r\n              <Movie\r\n                key={index}\r\n                id={movie.id}\r\n                year={movie.year}\r\n                genres={movie.genres}\r\n                title={movie.title}\r\n                rating={movie.rating}\r\n                summary={movie.summary}\r\n                poster={movie.medium_cover_image}\r\n              />\r\n            ))}\r\n          </div>\r\n          <Footer />\r\n        </div>\r\n      )}\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\n// import PropTypes from \"prop-types\";\r\nimport \"./MovieInfo.css\";\r\n\r\nclass MovieInfo extends React.Component {\r\n  componentDidMount() {\r\n    const { location, history } = this.props;\r\n    if (location.state === undefined) {\r\n      history.push(\"/\");\r\n    }\r\n  }\r\n  render() {\r\n    const {\r\n      location: { state },\r\n    } = this.props;\r\n    if (state) {\r\n      return (\r\n        <section className=\"movie_info\">\r\n          <div className=\"info_backgrond\">\r\n            <img src={state.poster} alt={state.title} title={state.title} />\r\n          </div>\r\n          <div className=\"info_info\">\r\n            <div className=\"info_title_img\">\r\n              <img src={state.poster} alt={state.title} title={state.title} />\r\n            </div>\r\n            <div className=\"info_data\">\r\n              <h3 className=\"info_title\">\r\n                {state.title} <span className=\"title_year\">{state.year}</span>\r\n              </h3>\r\n              <h4 className=\"info_rating\">\r\n                {state.rating.toString().includes(\".\")\r\n                  ? state.rating\r\n                  : `${state.rating}.0`}\r\n              </h4>\r\n              <ul className=\"info_genres\">\r\n                {state.genres.map((genre, index) => (\r\n                  <li key={index} className=\"genres_genre\">\r\n                    {genre}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n              <p className=\"info_summary\">{state.summary}</p>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\nexport default MovieInfo;\r\n","import React from \"react\";\r\nimport \"./Header.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Header() {\r\n  const moveTop = () => {\r\n    window.scroll({\r\n      top: 0,\r\n      left: 0,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <h1 className=\"logo\" onClick={moveTop}>\r\n        <Link to=\"/\">JG Movies</Link>\r\n      </h1>\r\n      <nav className=\"gnb\">\r\n        <ul>\r\n          <li onClick={moveTop}>\r\n            <Link to=\"/\">\r\n              <i className=\"fas fa-home\"></i>\r\n            </Link>\r\n          </li>\r\n\r\n          <li onClick={moveTop}>\r\n            <Link to=\"/Search\">\r\n              <i className=\"fas fa-search\"></i>\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React, { useEffect } from \"react\";\r\nimport \"./TopButton.css\";\r\n\r\nfunction TopButton() {\r\n  const moveTop = (e) => {\r\n    // if (isIOS) {\r\n    // } else {\r\n    window.scrollTo({\r\n      top: 0,\r\n      left: 0,\r\n      behavior: \"smooth\",\r\n    });\r\n    console.log(e.currentTarget);\r\n    // }\r\n  };\r\n\r\n  const appearArrow = () => {\r\n    const currentY = document.scrollingElement.scrollTop;\r\n    const APPEAR_HEIGHT = 100;\r\n    const topButton = document.querySelector(\".top_button\");\r\n    if (currentY > APPEAR_HEIGHT) {\r\n      topButton.classList.remove(\"hide\");\r\n    } else {\r\n      topButton.classList.add(\"hide\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const scrollEvent = () => {\r\n      window.addEventListener(\"scroll\", appearArrow);\r\n    };\r\n\r\n    scrollEvent();\r\n\r\n    return () => {\r\n      const removeScrollEvent = () => {\r\n        window.removeEventListener(\"scroll\", appearArrow);\r\n      };\r\n\r\n      removeScrollEvent();\r\n    };\r\n  }, []);\r\n  return (\r\n    <aside>\r\n      <div className=\"top_button hide\" onTouchStart={moveTop}>\r\n        <i className=\"fas fa-arrow-circle-up\"></i>\r\n      </div>\r\n    </aside>\r\n  );\r\n}\r\n\r\nexport default TopButton;\r\n","import React from \"react\";\r\nimport Main from \"./routes/Main\";\r\nimport Search from \"./routes/Search\";\r\nimport MovieInfo from \"./routes/MovieInfo\";\r\nimport Header from \"./components/Header\";\r\nimport TopButton from \"./components/TopButton\";\r\nimport { HashRouter, Route } from \"react-router-dom\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <HashRouter>\r\n      <Header />\r\n      <TopButton />\r\n      <Route path=\"/\" exact={true} component={Main} />\r\n      <Route path=\"/Search\" component={Search} />\r\n      <Route path=\"/Info\" component={MovieInfo} />\r\n    </HashRouter>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}