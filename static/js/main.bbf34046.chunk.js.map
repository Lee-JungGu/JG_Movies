{"version":3,"sources":["components/Genre.js","components/Loader.js","components/Movie.js","components/Footer.js","routes/Main.js","components/SearchBox.js","routes/Search.js","routes/MovieInfo.js","components/Header.js","components/TopButton.js","App.js","index.js"],"names":["Genre","getGenre","startX","currentX","className","draggable","onTouchStart","e","changedTouches","clientX","onTouchMove","document","querySelector","style","left","data-genre","onClick","Loader","name","Movie","year","title","summary","poster","genres","rating","to","pathname","state","window","scroll","src","alt","toString","includes","map","genre","index","length","slice","Footer","Main","_isMounted","isLoading","movies","apiUrl","pageNumber","getMovies","a","axios","get","data","setState","clickGetGenre","props","target","dataset","animateScrollTop","top","behavior","getMoviePage","scrollTop","scrollingElement","scrollBottom","scrollHeight","clientHeight","numberOfMovie","loader","checkLoading","classList","add","newPage","remove","scrollEvent","addEventListener","removeScrollEvent","removeEventListener","this","movie","id","medium_cover_image","React","Component","SearchBox","searchUseKey","searchUseClick","action","type","placeholder","autoComplete","onKeyUp","required","Search","useState","setIsLoading","setMovies","setApiUrl","setPageNumber","firstMounted","useRef","isMounted","getSearchPage","value","NEW_API_URL","current","key","searchMovies","useEffect","undefined","MovieInfo","location","history","push","Header","moveTop","replace","TopButton","appearArrow","currentY","topButton","event","preventDefault","scrollTo","App","path","exact","component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.bbf34046.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"../css/Genre.css\";\r\n\r\nfunction Genre({ getGenre }) {\r\n  let startX = 0;\r\n  let currentX = 0;\r\n  const dragStart = (e) => {\r\n    startX = e.changedTouches[0].clientX;\r\n    // console.log(\"start\", e);\r\n  };\r\n  const drag = (e) => {\r\n    const MAX_LEFT = 20;\r\n    const MAX_RIGHT = -50;\r\n    const SLIDER_SPEED = 10;\r\n    if (startX > e.changedTouches[0].clientX) {\r\n      if (currentX > MAX_RIGHT) {\r\n        currentX =\r\n          e.changedTouches[0].clientX -\r\n          (e.changedTouches[0].clientX + SLIDER_SPEED) +\r\n          currentX;\r\n      }\r\n    } else {\r\n      if (currentX < MAX_LEFT) {\r\n        currentX =\r\n          e.changedTouches[0].clientX -\r\n          (e.changedTouches[0].clientX - SLIDER_SPEED) +\r\n          currentX;\r\n      }\r\n    }\r\n    const dragMenu = document.querySelector(\".drag_menu\");\r\n    dragMenu.style.left = `${currentX}px`;\r\n  };\r\n  return (\r\n    <div className=\"genre_menu\">\r\n      <ul\r\n        className=\"drag_menu\"\r\n        draggable=\"true\"\r\n        onTouchStart={dragStart}\r\n        onTouchMove={drag}\r\n      >\r\n        <li>\r\n          <p data-genre=\"all\" onClick={getGenre}>\r\n            All\r\n          </p>\r\n        </li>\r\n\r\n        <li>\r\n          <p data-genre=\"action\" onClick={getGenre}>\r\n            Action\r\n          </p>\r\n        </li>\r\n\r\n        <li>\r\n          <p data-genre=\"thriller\" onClick={getGenre}>\r\n            Thriller\r\n          </p>\r\n        </li>\r\n\r\n        <li>\r\n          <p data-genre=\"romance\" onClick={getGenre}>\r\n            Romance\r\n          </p>\r\n        </li>\r\n\r\n        <li>\r\n          <p data-genre=\"comedy\" onClick={getGenre}>\r\n            Comedy\r\n          </p>\r\n        </li>\r\n\r\n        <li>\r\n          <p data-genre=\"animation\" onClick={getGenre}>\r\n            Animation\r\n          </p>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nGenre.propTypes = {\r\n  getGenre: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Genre;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction Loader({ name }) {\r\n  return (\r\n    <div className={name}>\r\n      <span className=\"loader_text\">Loding...</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nLoader.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Loader;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"../css/Movie.css\";\r\n\r\nfunction Movie({ year, title, summary, poster, genres, rating }) {\r\n  const SUMMARY_TEXT_LIMIT = 100;\r\n  const moveTop = () => {\r\n    window.scroll(0, 0);\r\n  };\r\n  return (\r\n    <Link\r\n      to={{\r\n        pathname: \"/Info\",\r\n        state: {\r\n          year,\r\n          title,\r\n          summary,\r\n          poster,\r\n          genres,\r\n          rating,\r\n        },\r\n      }}\r\n      className=\"movie\"\r\n      onClick={moveTop}\r\n    >\r\n      <div>\r\n        <img src={poster} alt={title} title={title} />\r\n        <div className=\"movie_data\">\r\n          <h3 className=\"movie_title\">\r\n            {title} <span className=\"title_year\">{year}</span>\r\n          </h3>\r\n          <h4 className=\"movie_rating\">\r\n            {rating.toString().includes(\".\") ? rating : `${rating}.0`}\r\n          </h4>\r\n          <ul className=\"genres\">\r\n            {genres.map((genre, index) => (\r\n              <li key={index} className=\"genres_genre\">\r\n                {genre}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          <p className=\"movie_summary\">\r\n            {summary.length > SUMMARY_TEXT_LIMIT\r\n              ? `${summary.slice(0, SUMMARY_TEXT_LIMIT)}...`\r\n              : summary}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\n\r\nMovie.propTypes = {\r\n  id: PropTypes.number.isRequired,\r\n  year: PropTypes.number.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  summary: PropTypes.string.isRequired,\r\n  poster: PropTypes.string.isRequired,\r\n  genres: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n  rating: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default Movie;\r\n","import React from \"react\";\r\nimport \"../css/Footer.css\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p>© JG Movies</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport Genre from \"../components/Genre\";\r\nimport Loader from \"../components/Loader\";\r\nimport Movie from \"../components/Movie\";\r\nimport Footer from \"../components/Footer\";\r\nimport \"../css/Main.css\";\r\nimport \"../css/Reset.css\";\r\n\r\nclass Main extends React.Component {\r\n  _isMounted = true;\r\n\r\n  state = {\r\n    isLoading: true,\r\n    movies: [],\r\n    apiUrl:\r\n      \"https://yts.mx/api/v2/list_movies.json?sort_by=rating&limit=24&genre=all\",\r\n    pageNumber: 1,\r\n  };\r\n\r\n  //영화를 가져오는 함수\r\n  getMovies = async () => {\r\n    const {\r\n      data: {\r\n        data: { movies },\r\n      },\r\n    } = await axios.get(this.state.apiUrl);\r\n    if (this._isMounted) {\r\n      this.setState({ isLoading: false, movies });\r\n    }\r\n  };\r\n\r\n  //클릭시 해당 장르 영와를 가져오는 함수\r\n  clickGetGenre = (props) => {\r\n    const {\r\n      target: {\r\n        dataset: { genre },\r\n      },\r\n    } = props;\r\n\r\n    this.state.apiUrl !==\r\n      `https://yts.mx/api/v2/list_movies.json?sort_by=rating&limit=24&genre=${genre}` &&\r\n      this.setState({\r\n        isLoading: true,\r\n        apiUrl: `https://yts.mx/api/v2/list_movies.json?sort_by=rating&limit=24&genre=${genre}`,\r\n      });\r\n\r\n    this.animateScrollTop();\r\n    this.setState({ pageNumber: 1 });\r\n  };\r\n\r\n  //부드러운 마우스 스크롤 탑 애니메이션\r\n  animateScrollTop = () => {\r\n    window.scroll({\r\n      top: 0,\r\n      left: 0,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  //스크롤이 하단에 있을때 추가 영화를 가져오는 함수\r\n  getMoviePage = async () => {\r\n    const BOTTOM_SPACE = 200;\r\n    const scrollTop = document.scrollingElement.scrollTop;\r\n    const scrollBottom =\r\n      document.scrollingElement.scrollHeight -\r\n      document.scrollingElement.clientHeight -\r\n      BOTTOM_SPACE;\r\n    const numberOfMovie = this.state.movies.length;\r\n    const pageNumber = this.state.pageNumber;\r\n    const loader = document.querySelector(\".loader_scroll\");\r\n    const isLoading = this.state.isLoading;\r\n    const checkLoading = loader.className.includes(\"show\");\r\n    const MOVIES_PER_PAGE = 24;\r\n\r\n    if (\r\n      scrollTop >= scrollBottom &&\r\n      numberOfMovie === MOVIES_PER_PAGE * pageNumber &&\r\n      !checkLoading &&\r\n      !isLoading\r\n    ) {\r\n      loader.classList.add(\"show\");\r\n      const {\r\n        data: {\r\n          data: { movies },\r\n        },\r\n      } = await axios.get(`${this.state.apiUrl}&page=${pageNumber + 1}`);\r\n      const newPage = [...this.state.movies, ...movies];\r\n      const limitPage = 16;\r\n      pageNumber < limitPage &&\r\n        this._isMounted &&\r\n        this.setState({ movies: newPage, pageNumber: pageNumber + 1 });\r\n      loader.classList.remove(\"show\");\r\n    }\r\n  };\r\n\r\n  scrollEvent = () => {\r\n    document.addEventListener(\"scroll\", this.getMoviePage);\r\n  };\r\n\r\n  removeScrollEvent = () => {\r\n    document.removeEventListener(\"scroll\", this.getMoviePage);\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getMovies();\r\n    this.scrollEvent();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.state.isLoading && this.getMovies();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.removeScrollEvent();\r\n    // 비동기 작업 중 페이지 이동시 오류 방지\r\n    this._isMounted = false;\r\n  }\r\n\r\n  render() {\r\n    const { isLoading, movies } = this.state;\r\n    return (\r\n      <section className=\"container\">\r\n        <Loader name={\"loader_scroll\"} />\r\n        {isLoading ? (\r\n          <Loader name={\"loader\"} />\r\n        ) : (\r\n          <div className=\"contents\">\r\n            <Genre getGenre={this.clickGetGenre} />\r\n            <div className=\"movies\">\r\n              {movies.map((movie, index) => (\r\n                <Movie\r\n                  key={index}\r\n                  id={movie.id}\r\n                  year={movie.year}\r\n                  genres={movie.genres}\r\n                  title={movie.title}\r\n                  rating={movie.rating}\r\n                  summary={movie.summary}\r\n                  poster={movie.medium_cover_image}\r\n                />\r\n              ))}\r\n            </div>\r\n            <Footer />\r\n          </div>\r\n        )}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\nimport \"../css/SearchBox.css\";\r\nimport PropTyeps from \"prop-types\";\r\n\r\nfunction SearchBox({ searchUseKey, searchUseClick }) {\r\n  return (\r\n    <div className=\"search_box\" action=\"#\">\r\n      <input\r\n        type=\"search\"\r\n        placeholder=\"Search movies...\"\r\n        autoComplete=\"off\"\r\n        onKeyUp={searchUseKey}\r\n        required\r\n      />\r\n      <span className=\"search_boder_bottom\"></span>\r\n      <button onClick={searchUseClick}>\r\n        <i className=\"fas fa-search\"></i>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nSearchBox.propTypes = {\r\n  searchUseKey: PropTyeps.func.isRequired,\r\n  searchUseClick: PropTyeps.func.isRequired,\r\n};\r\n\r\nexport default SearchBox;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport axios from \"axios\";\r\nimport Loader from \"../components/Loader\";\r\nimport SearchBox from \"../components/SearchBox\";\r\nimport Movie from \"../components/Movie\";\r\nimport Footer from \"../components/Footer\";\r\nimport \"../css/Search.css\";\r\n\r\nfunction Search() {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [movies, setMovies] = useState([]);\r\n  const [apiUrl, setApiUrl] = useState(\r\n    \"https://yts.mx/api/v2/list_movies.json?sort_by=rating&limit=24\"\r\n  );\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const firstMounted = useRef(true);\r\n  const isMounted = useRef(true);\r\n\r\n  //API URL에 검색어를 적용시키는 함수\r\n  const getSearchPage = async (value) => {\r\n    const loader = document.querySelector(\".loader_scroll\");\r\n    const NEW_API_URL = `https://yts.mx/api/v2/list_movies.json?sort_by=rating&limit=24&query_term=${value}`;\r\n    if (!loader.className.includes(\"show\") && value !== \"\") {\r\n      loader.classList.add(\"show\");\r\n      await axios.get(NEW_API_URL);\r\n      if (isMounted.current) {\r\n        setApiUrl(NEW_API_URL);\r\n        setPageNumber(1);\r\n      }\r\n      loader.classList.remove(\"show\");\r\n    }\r\n  };\r\n  // 엔터키로 검색하는 함수\r\n  const searchUseKey = async (props) => {\r\n    const {\r\n      target: { value },\r\n    } = props;\r\n\r\n    props.key === \"Enter\" && getSearchPage(value);\r\n  };\r\n  // 검색 버튼으로 검색하는 함수\r\n  const searchUseClick = () => {\r\n    const value = document.querySelector(\".search_box input\").value;\r\n    getSearchPage(value);\r\n  };\r\n\r\n  //스크롤이 하단에 있을때 추가 영화를 가져오는 함수\r\n  const getMoviePage = async () => {\r\n    const BOTTOM_SPACE = 200;\r\n    const scrollTop = document.scrollingElement.scrollTop;\r\n    const scrollBottom =\r\n      document.scrollingElement.scrollHeight -\r\n      document.scrollingElement.clientHeight -\r\n      BOTTOM_SPACE;\r\n    const loader = document.querySelector(\".loader_scroll\");\r\n    const MOVIES_PER_PAGE = 24;\r\n    if (\r\n      scrollTop >= scrollBottom &&\r\n      movies.length === MOVIES_PER_PAGE * pageNumber &&\r\n      !loader.className.includes(\"show\")\r\n    ) {\r\n      loader.classList.add(\"show\");\r\n      const {\r\n        data: {\r\n          data: { movies: searchMovies },\r\n        },\r\n      } = await axios.get(`${apiUrl}&page=${pageNumber + 1}`);\r\n      const newPage = [...movies, ...searchMovies];\r\n      const limitPage = 16;\r\n\r\n      if (pageNumber < limitPage && isMounted.current) {\r\n        setPageNumber(pageNumber + 1);\r\n        setMovies(newPage);\r\n      }\r\n      loader.classList.remove(\"show\");\r\n    }\r\n  };\r\n\r\n  const scrollEvent = () => {\r\n    document.addEventListener(\"scroll\", getMoviePage);\r\n  };\r\n\r\n  const removeScrollEvent = () => {\r\n    document.removeEventListener(\"scroll\", getMoviePage);\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollEvent();\r\n    return () => {\r\n      removeScrollEvent();\r\n    };\r\n  });\r\n\r\n  // 검색시 해당 영화를 보여주고 없을시 빈 화면 출력\r\n  useEffect(() => {\r\n    const getMovies = async () => {\r\n      const {\r\n        data: {\r\n          data: { movies },\r\n        },\r\n      } = await axios.get(apiUrl);\r\n      if (movies === undefined) return setMovies([]);\r\n      if (isMounted.current) {\r\n        setMovies(movies);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    if (firstMounted.current) return (firstMounted.current = false);\r\n    getMovies();\r\n  }, [apiUrl]);\r\n\r\n  // 비동기 작업 중 페이지 이동시 오류 방지\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <section className=\"container_sc\">\r\n      <SearchBox searchUseKey={searchUseKey} searchUseClick={searchUseClick} />\r\n      <Loader name={\"loader_scroll\"} />\r\n      {isLoading ? (\r\n        <div></div>\r\n      ) : (\r\n        <div className=\"contents\">\r\n          <div className=\"movies\">\r\n            {movies.map((movie, index) => (\r\n              <Movie\r\n                key={index}\r\n                id={movie.id}\r\n                year={movie.year}\r\n                genres={movie.genres}\r\n                title={movie.title}\r\n                rating={movie.rating}\r\n                summary={movie.summary}\r\n                poster={movie.medium_cover_image}\r\n              />\r\n            ))}\r\n          </div>\r\n          <Footer />\r\n        </div>\r\n      )}\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\nimport \"../css/MovieInfo.css\";\r\n\r\nclass MovieInfo extends React.Component {\r\n  componentDidMount() {\r\n    const { location, history } = this.props;\r\n    if (location.state === undefined) {\r\n      history.push(\"/\");\r\n    }\r\n  }\r\n  render() {\r\n    const {\r\n      location: { state },\r\n    } = this.props;\r\n    if (state) {\r\n      return (\r\n        <section className=\"movie_info\">\r\n          <div className=\"info_backgrond\">\r\n            <img src={state.poster} alt={state.title} title={state.title} />\r\n          </div>\r\n          <div className=\"info_info\">\r\n            <div className=\"info_title_img\">\r\n              <img src={state.poster} alt={state.title} title={state.title} />\r\n            </div>\r\n            <div className=\"info_data\">\r\n              <h3 className=\"info_title\">\r\n                {state.title} <span className=\"title_year\">{state.year}</span>\r\n              </h3>\r\n              <h4 className=\"info_rating\">\r\n                {state.rating.toString().includes(\".\")\r\n                  ? state.rating\r\n                  : `${state.rating}.0`}\r\n              </h4>\r\n              <ul className=\"info_genres\">\r\n                {state.genres.map((genre, index) => (\r\n                  <li key={index} className=\"genres_genre\">\r\n                    {genre}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n              <p className=\"info_summary\">{state.summary}</p>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\nexport default MovieInfo;\r\n","import React from \"react\";\r\nimport \"../css/Header.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Header() {\r\n  const moveTop = () => {\r\n    window.scroll({\r\n      top: 0,\r\n      left: 0,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <h1 className=\"logo\" onClick={moveTop}>\r\n        <Link to=\"/\" replace>\r\n          JG Movies\r\n        </Link>\r\n      </h1>\r\n      <nav className=\"gnb\">\r\n        <ul>\r\n          <li onClick={moveTop}>\r\n            <Link to=\"/\" replace>\r\n              <i className=\"fas fa-home\"></i>\r\n            </Link>\r\n          </li>\r\n\r\n          <li onClick={moveTop}>\r\n            <Link to=\"/Search\" replace>\r\n              <i className=\"fas fa-search\"></i>\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React, { useEffect } from \"react\";\r\nimport \"../css/TopButton.css\";\r\n\r\nfunction TopButton() {\r\n  const moveTop = (event) => {\r\n    event.preventDefault();\r\n\r\n    window.scrollTo({\r\n      top: 0,\r\n      left: 0,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  const appearArrow = () => {\r\n    const currentY = document.scrollingElement.scrollTop;\r\n    const APPEAR_HEIGHT = 100;\r\n    const topButton = document.querySelector(\".top_button i\");\r\n    if (currentY > APPEAR_HEIGHT) {\r\n      topButton.classList.remove(\"hide\");\r\n    } else {\r\n      topButton.classList.add(\"hide\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const scrollEvent = () => {\r\n      window.addEventListener(\"scroll\", appearArrow);\r\n    };\r\n\r\n    scrollEvent();\r\n\r\n    return () => {\r\n      const removeScrollEvent = () => {\r\n        window.removeEventListener(\"scroll\", appearArrow);\r\n      };\r\n\r\n      removeScrollEvent();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <aside className=\"top_button_box\">\r\n      <button className=\"top_button \" onClick={moveTop}>\r\n        <i className=\"fas fa-arrow-circle-up hide\"></i>\r\n      </button>\r\n    </aside>\r\n  );\r\n}\r\n\r\nexport default TopButton;\r\n","import React from \"react\";\r\nimport Main from \"./routes/Main\";\r\nimport Search from \"./routes/Search\";\r\nimport MovieInfo from \"./routes/MovieInfo\";\r\nimport Header from \"./components/Header\";\r\nimport TopButton from \"./components/TopButton\";\r\nimport { HashRouter, Route } from \"react-router-dom\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <HashRouter>\r\n      <Header />\r\n      <TopButton />\r\n      <Route path=\"/\" exact={true} component={Main} />\r\n      <Route path=\"/Search\" component={Search} />\r\n      <Route path=\"/Info\" component={MovieInfo} />\r\n    </HashRouter>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}