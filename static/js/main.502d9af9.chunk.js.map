{"version":3,"sources":["components/Genre.js","components/Loader.js","components/Movie.js","components/Footer.js","routes/Main.js","components/SearchBox.js","routes/Search.js","routes/MovieInfo.js","components/Header.js","components/TopButton.js","App.js","index.js"],"names":["Genre","getGenre","className","data-genre","onClick","Loader","name","Movie","year","title","summary","poster","genres","rating","to","pathname","state","src","alt","toString","includes","map","genre","index","length","slice","Footer","Main","_isMounted","isLoading","movies","apiUrl","pageNumber","getMovies","a","axios","get","data","setState","clickGetGenre","props","target","dataset","animateScrollTop","x","y","window","scroll","top","left","behavior","activeMenu","document","querySelectorAll","forEach","children","classList","add","getMoviePage","scrollTop","scrollingElement","scrollBottom","scrollHeight","clientHeight","numberOfMovie","loader","querySelector","checkLoading","remove","scrollEvent","addEventListener","removeScrollEvent","removeEventListener","this","JSON","parse","localStorage","getItem","lastScrollPosition","scrollTo","setItem","stringify","movie","id","medium_cover_image","React","Component","SearchBox","searchUseKey","searchUseClick","action","type","placeholder","autoComplete","onKeyUp","required","Search","useState","setIsLoading","setMovies","setApiUrl","setPageNumber","firstMounted","useRef","isMounted","getSearchPage","value","NEW_API_URL","key","checkLoader","searchMovies","current","useLayoutEffect","useEffect","undefined","notFindMsg","innerHTML","MovieInfo","location","history","push","Header","replace","TopButton","appearArrow","currentY","topButton","event","preventDefault","App","path","exact","component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.502d9af9.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"../css/Genre.css\";\r\n\r\nfunction Genre({ getGenre }) {\r\n  return (\r\n    <div className=\"genre_menu\">\r\n      <ul className=\"drag_menu\">\r\n        <li>\r\n          <p data-genre=\"all\" onClick={getGenre}>\r\n            All\r\n          </p>\r\n        </li>\r\n\r\n        <li>\r\n          <p data-genre=\"action\" onClick={getGenre}>\r\n            Action\r\n          </p>\r\n        </li>\r\n\r\n        <li>\r\n          <p data-genre=\"thriller\" onClick={getGenre}>\r\n            Thriller\r\n          </p>\r\n        </li>\r\n\r\n        <li>\r\n          <p data-genre=\"romance\" onClick={getGenre}>\r\n            Romance\r\n          </p>\r\n        </li>\r\n\r\n        <li>\r\n          <p data-genre=\"comedy\" onClick={getGenre}>\r\n            Comedy\r\n          </p>\r\n        </li>\r\n\r\n        <li>\r\n          <p data-genre=\"animation\" onClick={getGenre}>\r\n            Animation\r\n          </p>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nGenre.propTypes = {\r\n  getGenre: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Genre;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction Loader({ name }) {\r\n  return (\r\n    <div className={name}>\r\n      <span className=\"loader_text\">Loding...</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nLoader.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Loader;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"../css/Movie.css\";\r\n\r\nfunction Movie({ year, title, summary, poster, genres, rating }) {\r\n  const SUMMARY_TEXT_LIMIT = 100;\r\n\r\n  return (\r\n    <Link\r\n      to={{\r\n        pathname: \"/Info\",\r\n        state: {\r\n          year,\r\n          title,\r\n          summary,\r\n          poster,\r\n          genres,\r\n          rating,\r\n        },\r\n      }}\r\n      className=\"movie\"\r\n    >\r\n      <div>\r\n        <img src={poster} alt={title} title={title} />\r\n        <div className=\"movie_data\">\r\n          <h3 className=\"movie_title\">\r\n            {title} <span className=\"title_year\">{year}</span>\r\n          </h3>\r\n          <h4 className=\"movie_rating\">\r\n            {rating.toString().includes(\".\") ? rating : `${rating}.0`}\r\n          </h4>\r\n          <ul className=\"genres\">\r\n            {genres.map((genre, index) => (\r\n              <li key={index} className=\"genres_genre\">\r\n                {genre}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          <p className=\"movie_summary\">\r\n            {summary.length > SUMMARY_TEXT_LIMIT\r\n              ? `${summary.slice(0, SUMMARY_TEXT_LIMIT)}...`\r\n              : summary}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\n\r\nMovie.propTypes = {\r\n  id: PropTypes.number.isRequired,\r\n  year: PropTypes.number.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  summary: PropTypes.string.isRequired,\r\n  poster: PropTypes.string.isRequired,\r\n  genres: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n  rating: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default Movie;\r\n","import React from \"react\";\r\nimport \"../css/Footer.css\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p>© JG Movies</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport Genre from \"../components/Genre\";\r\nimport Loader from \"../components/Loader\";\r\nimport Movie from \"../components/Movie\";\r\nimport Footer from \"../components/Footer\";\r\nimport \"../css/Main.css\";\r\nimport \"../css/Reset.css\";\r\n\r\nclass Main extends React.Component {\r\n  _isMounted = true;\r\n\r\n  state = {\r\n    isLoading: true,\r\n    movies: [],\r\n    apiUrl:\r\n      \"https://yts.mx/api/v2/list_movies.json?sort_by=rating&limit=24&genre=all\",\r\n    pageNumber: 1,\r\n    genre: \"all\",\r\n  };\r\n\r\n  //영화를 가져오는 함수\r\n  getMovies = async () => {\r\n    const {\r\n      data: {\r\n        data: { movies },\r\n      },\r\n    } = await axios.get(this.state.apiUrl);\r\n    if (this._isMounted) {\r\n      this.setState({ isLoading: false, movies });\r\n    }\r\n  };\r\n\r\n  //클릭시 해당 장르 영와를 가져오는 함수\r\n  clickGetGenre = (props) => {\r\n    const {\r\n      target: {\r\n        dataset: { genre },\r\n      },\r\n    } = props;\r\n\r\n    this.state.apiUrl !==\r\n      `https://yts.mx/api/v2/list_movies.json?sort_by=rating&limit=24&genre=${genre}` &&\r\n      this.setState({\r\n        isLoading: true,\r\n        apiUrl: `https://yts.mx/api/v2/list_movies.json?sort_by=rating&limit=24&genre=${genre}`,\r\n        genre,\r\n      });\r\n\r\n    this.animateScrollTop(0, 0);\r\n    this.setState({ pageNumber: 1 });\r\n  };\r\n\r\n  //부드러운 마우스 스크롤 탑 애니메이션\r\n  animateScrollTop = (x, y) => {\r\n    window.scroll({\r\n      top: x,\r\n      left: y,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  //현재 활성화된 메뉴 컬러 변경\r\n  activeMenu = () => {\r\n    const genres = document.querySelectorAll(\".genre_menu ul li\");\r\n    genres.forEach((genre) => {\r\n      genre.children[0].dataset.genre === this.state.genre &&\r\n        genre.children[0].classList.add(\"active_text_color\");\r\n    });\r\n  };\r\n\r\n  //스크롤이 하단에 있을때 추가 영화를 가져오는 함수\r\n  getMoviePage = async () => {\r\n    //GNB메뉴 클릭시 로딩일때 작동을 막아 비동기 작업중 전환시 오류 해결\r\n    if (this.state.isLoading) return;\r\n\r\n    const BOTTOM_SPACE = 200;\r\n    const scrollTop = document.scrollingElement.scrollTop;\r\n    const scrollBottom =\r\n      document.scrollingElement.scrollHeight -\r\n      document.scrollingElement.clientHeight -\r\n      BOTTOM_SPACE;\r\n    const numberOfMovie = this.state.movies.length;\r\n    const pageNumber = this.state.pageNumber;\r\n    const loader = document.querySelector(\".loader_scroll\");\r\n    const checkLoading = loader.className.includes(\"show\");\r\n    const MOVIES_PER_PAGE = 24;\r\n\r\n    if (\r\n      scrollTop >= scrollBottom &&\r\n      numberOfMovie === MOVIES_PER_PAGE * pageNumber &&\r\n      numberOfMovie % MOVIES_PER_PAGE === 0 &&\r\n      !checkLoading\r\n    ) {\r\n      loader.classList.add(\"show\");\r\n      const {\r\n        data: {\r\n          data: { movies },\r\n        },\r\n      } = await axios.get(`${this.state.apiUrl}&page=${pageNumber + 1}`);\r\n      const limitPage = 16;\r\n      pageNumber < limitPage &&\r\n        this._isMounted &&\r\n        this.setState({\r\n          movies: [...this.state.movies, ...movies],\r\n          pageNumber: pageNumber + 1,\r\n        });\r\n      loader.classList.remove(\"show\");\r\n    }\r\n  };\r\n\r\n  scrollEvent = () => {\r\n    document.addEventListener(\"scroll\", this.getMoviePage);\r\n  };\r\n  removeScrollEvent = () => {\r\n    document.removeEventListener(\"scroll\", this.getMoviePage);\r\n  };\r\n\r\n  async componentDidMount() {\r\n    this.activeMenu();\r\n    //로컬스토리지에 저장한 데이터를 받아옴\r\n    const movies = await JSON.parse(localStorage.getItem(\"movies\"));\r\n    const apiUrl = localStorage.getItem(\"apiUrl\");\r\n    const genre = localStorage.getItem(\"genre\");\r\n    const lastScrollPosition = localStorage.getItem(\"lastScrollPosition\");\r\n    const MOVIES_PER_PAGE = 24;\r\n    //로컬스토리지에 저장한 데이터를 이용해 API를 불필요하게 받아오는 것 방지\r\n    movies === null\r\n      ? this.getMovies()\r\n      : this.setState({\r\n          movies,\r\n          isLoading: false,\r\n          pageNumber: movies.length / MOVIES_PER_PAGE,\r\n          apiUrl,\r\n          genre,\r\n        });\r\n    //마지막 스크롤 위치로 이동\r\n    window.scrollTo(0, lastScrollPosition);\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.activeMenu();\r\n    this.scrollEvent();\r\n    this.state.isLoading && this.getMovies();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    //현재까지 받은 정보들을 언마운트시 로컬스토리지에 저장\r\n    localStorage.setItem(\"movies\", JSON.stringify(this.state.movies));\r\n    localStorage.setItem(\"apiUrl\", this.state.apiUrl);\r\n    localStorage.setItem(\"genre\", this.state.genre);\r\n    localStorage.setItem(\r\n      \"lastScrollPosition\",\r\n      document.scrollingElement.scrollTop\r\n    );\r\n\r\n    this.removeScrollEvent();\r\n    // 비동기 작업 중 페이지 이동시 오류 방지\r\n    this._isMounted = false;\r\n  }\r\n\r\n  render() {\r\n    const { isLoading, movies } = this.state;\r\n\r\n    return (\r\n      <section className=\"container\">\r\n        {isLoading ? (\r\n          <Loader name={\"loader\"} />\r\n        ) : (\r\n          <div className=\"contents\">\r\n            <Genre getGenre={this.clickGetGenre} />\r\n            <Loader name={\"loader_scroll\"} />\r\n            <div className=\"movies\">\r\n              {movies.map((movie, index) => (\r\n                <Movie\r\n                  key={index}\r\n                  id={movie.id}\r\n                  year={movie.year}\r\n                  genres={movie.genres}\r\n                  title={movie.title}\r\n                  rating={movie.rating}\r\n                  summary={movie.summary}\r\n                  poster={movie.medium_cover_image}\r\n                />\r\n              ))}\r\n            </div>\r\n            <Footer />\r\n          </div>\r\n        )}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\nimport \"../css/SearchBox.css\";\r\nimport PropTyeps from \"prop-types\";\r\n\r\nfunction SearchBox({ searchUseKey, searchUseClick }) {\r\n  return (\r\n    <div className=\"search_box\" action=\"#\">\r\n      <input\r\n        type=\"search\"\r\n        placeholder=\"Search movies...\"\r\n        autoComplete=\"off\"\r\n        onKeyUp={searchUseKey}\r\n        required\r\n      />\r\n      <span className=\"search_border_bottom\"></span>\r\n      <button onClick={searchUseClick}>\r\n        <i className=\"fas fa-search\"></i>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nSearchBox.propTypes = {\r\n  searchUseKey: PropTyeps.func.isRequired,\r\n  searchUseClick: PropTyeps.func.isRequired,\r\n};\r\n\r\nexport default SearchBox;\r\n","import React, { useState, useEffect, useRef, useLayoutEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Loader from \"../components/Loader\";\r\nimport SearchBox from \"../components/SearchBox\";\r\nimport Movie from \"../components/Movie\";\r\nimport Footer from \"../components/Footer\";\r\nimport \"../css/Search.css\"; // Main.css에 중복되는 부분 있음.\r\n\r\nfunction Search() {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [movies, setMovies] = useState(\r\n    () => JSON.parse(localStorage.getItem(\"movies_search\")) || []\r\n  );\r\n  const [apiUrl, setApiUrl] = useState(\r\n    () => localStorage.getItem(\"apiUrl_search\") || \"\"\r\n  );\r\n  const [pageNumber, setPageNumber] = useState(\r\n    movies.length !== 0 ? movies.length / 24 : 1\r\n  ); //나누기 24는 1페이지당 출력되는 영화 개수\r\n  const firstMounted = useRef(true);\r\n  const isMounted = useRef(true);\r\n\r\n  //API URL에 검색어를 적용\r\n  const getSearchPage = async (value) => {\r\n    const NEW_API_URL = `https://yts.mx/api/v2/list_movies.json?sort_by=rating&limit=24&query_term=${value}`;\r\n    if (!isLoading && value !== \"\" && NEW_API_URL !== apiUrl) {\r\n      setIsLoading(true);\r\n      await axios.get(NEW_API_URL);\r\n      setApiUrl(NEW_API_URL);\r\n      setPageNumber(1);\r\n      setIsLoading(false);\r\n      window.scrollTo(0, 0);\r\n    }\r\n  };\r\n  // 엔터키로 검색\r\n  const searchUseKey = async (props) => {\r\n    const {\r\n      target: { value },\r\n    } = props;\r\n    props.key === \"Enter\" && getSearchPage(value);\r\n  };\r\n  // 검색 버튼 클릭으로 검색\r\n  const searchUseClick = () => {\r\n    const value = document.querySelector(\".search_box input\").value;\r\n    getSearchPage(value);\r\n  };\r\n\r\n  //스크롤이 하단에 있을때 추가 영화를 가져오는 함수\r\n  const getMoviePage = async () => {\r\n    //검색시 로딩일때 작동을 막아 비동기 작업중 페이지 전환 오류 해결\r\n    if (isLoading) return;\r\n\r\n    const BOTTOM_SPACE = 200;\r\n    const scrollTop = document.scrollingElement.scrollTop;\r\n    const scrollBottom =\r\n      document.scrollingElement.scrollHeight -\r\n      document.scrollingElement.clientHeight -\r\n      BOTTOM_SPACE;\r\n    const loader = document.querySelector(\".loader_scroll\");\r\n    const checkLoader = loader.className.includes(\"show\");\r\n    const MOVIES_PER_PAGE = 24;\r\n\r\n    if (\r\n      scrollTop >= scrollBottom &&\r\n      movies.length === MOVIES_PER_PAGE * pageNumber &&\r\n      movies.length % MOVIES_PER_PAGE === 0 &&\r\n      !checkLoader\r\n    ) {\r\n      loader.classList.add(\"show\");\r\n      const {\r\n        data: {\r\n          data: { movies: searchMovies },\r\n        },\r\n      } = await axios.get(`${apiUrl}&page=${pageNumber + 1}`);\r\n      const limitPage = 16;\r\n\r\n      if (pageNumber < limitPage && isMounted.current) {\r\n        setPageNumber(pageNumber + 1);\r\n        setMovies([...movies, ...searchMovies]);\r\n      }\r\n      loader.classList.remove(\"show\");\r\n    }\r\n  };\r\n  const scrollEvent = () => {\r\n    document.addEventListener(\"scroll\", getMoviePage);\r\n  };\r\n  const removeScrollEvent = () => {\r\n    document.removeEventListener(\"scroll\", getMoviePage);\r\n  };\r\n\r\n  //동기적으로 작동시켜 비동기 작업 중 페이지 전환 오류를 해결\r\n  useLayoutEffect(() => {\r\n    scrollEvent();\r\n    return () => {\r\n      removeScrollEvent();\r\n    };\r\n  });\r\n\r\n  // 검색시 해당 영화를 보여주고 없을시 빈 화면 출력\r\n  useEffect(() => {\r\n    const getMovies = async () => {\r\n      const {\r\n        data: {\r\n          data: { movies },\r\n        },\r\n      } = await axios.get(apiUrl);\r\n\r\n      if (movies === undefined) {\r\n        setMovies([]);\r\n      } else if (isMounted.current) {\r\n        setMovies(movies);\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    //첫번째로 마운트 됐을때 작동 방지\r\n    if (firstMounted.current) return (firstMounted.current = false);\r\n    getMovies();\r\n  }, [apiUrl]);\r\n\r\n  //현재 movies와 API URL 정보 저장\r\n  useEffect(() => {\r\n    window.localStorage.setItem(\"movies_search\", JSON.stringify(movies));\r\n    window.localStorage.setItem(\"apiUrl_search\", apiUrl);\r\n  }, [movies, apiUrl]);\r\n\r\n  //페이지 전환시 마지막 스크롤 위치 저장 및 돌아왔을때 위치 적용\r\n  useLayoutEffect(() => {\r\n    const lastScrollPosition = localStorage.getItem(\r\n      \"lastScrollPosition_search\"\r\n    );\r\n    lastScrollPosition\r\n      ? window.scrollTo(0, lastScrollPosition)\r\n      : window.scrollTo(0, 0);\r\n    return () => {\r\n      window.localStorage.setItem(\r\n        \"lastScrollPosition_search\",\r\n        document.scrollingElement.scrollTop\r\n      );\r\n\r\n      //검색 및 스크롤을 통한 비동기 작업 중 페이지 전환시 오류 방지\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const notFindMsg = document.querySelector(\".search_massage_box\");\r\n    movies.length !== 0 && notFindMsg.classList.add(\"hide\");\r\n\r\n    if (!firstMounted.current)\r\n      return (notFindMsg.innerHTML = \"No related movies..\");\r\n  }, [movies]);\r\n\r\n  return (\r\n    <section className=\"container_sc\">\r\n      <SearchBox searchUseKey={searchUseKey} searchUseClick={searchUseClick} />\r\n      {isLoading ? (\r\n        <Loader name={\"loader\"} />\r\n      ) : (\r\n        <div className=\"contents\">\r\n          <Loader name={\"loader_scroll\"} />\r\n          <div className=\"search_massage_box\">\r\n            <p className=\"search_massage\"></p>\r\n          </div>\r\n          <div className=\"movies\">\r\n            {movies.map((movie, index) => (\r\n              <Movie\r\n                key={index}\r\n                id={movie.id}\r\n                year={movie.year}\r\n                genres={movie.genres}\r\n                title={movie.title}\r\n                rating={movie.rating}\r\n                summary={movie.summary}\r\n                poster={movie.medium_cover_image}\r\n              />\r\n            ))}\r\n          </div>\r\n          <Footer />\r\n        </div>\r\n      )}\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\nimport \"../css/MovieInfo.css\";\r\n\r\nclass MovieInfo extends React.Component {\r\n  componentDidMount() {\r\n    const { location, history } = this.props;\r\n    if (location.state === undefined) {\r\n      history.push(\"/\");\r\n    }\r\n    window.scrollTo(0, 0);\r\n  }\r\n  render() {\r\n    const {\r\n      location: { state },\r\n    } = this.props;\r\n    if (state) {\r\n      return (\r\n        <section className=\"movie_info\">\r\n          <div className=\"info_backgrond\">\r\n            <img src={state.poster} alt={state.title} title={state.title} />\r\n          </div>\r\n          <div className=\"info_info\">\r\n            <div className=\"info_title_img\">\r\n              <img src={state.poster} alt={state.title} title={state.title} />\r\n            </div>\r\n            <div className=\"info_data\">\r\n              <h3 className=\"info_title\">\r\n                {state.title} <span className=\"title_year\">{state.year}</span>\r\n              </h3>\r\n              <h4 className=\"info_rating\">\r\n                {state.rating.toString().includes(\".\")\r\n                  ? state.rating\r\n                  : `${state.rating}.0`}\r\n              </h4>\r\n              <ul className=\"info_genres\">\r\n                {state.genres.map((genre, index) => (\r\n                  <li key={index} className=\"genres_genre\">\r\n                    {genre}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n              <p className=\"info_summary\">{state.summary}</p>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n}\r\n\r\nexport default MovieInfo;\r\n","import React from \"react\";\r\nimport \"../css/Header.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <h1 className=\"logo\">\r\n        <Link to=\"/\" replace>\r\n          JG Movies\r\n        </Link>\r\n      </h1>\r\n      <nav className=\"gnb\">\r\n        <ul>\r\n          <li>\r\n            <Link to=\"/\" replace>\r\n              <i className=\"fas fa-home\"></i>\r\n            </Link>\r\n          </li>\r\n\r\n          <li>\r\n            <Link to=\"/Search\" replace>\r\n              <i className=\"fas fa-search\"></i>\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React, { useEffect } from \"react\";\r\nimport \"../css/TopButton.css\";\r\n\r\nfunction TopButton() {\r\n  const moveTop = (event) => {\r\n    event.preventDefault();\r\n\r\n    window.scrollTo({\r\n      top: 0,\r\n      left: 0,\r\n      behavior: \"smooth\",\r\n    });\r\n  };\r\n\r\n  const appearArrow = () => {\r\n    const currentY = document.scrollingElement.scrollTop;\r\n    const APPEAR_HEIGHT = 100;\r\n    const topButton = document.querySelector(\".top_button i\");\r\n    if (currentY > APPEAR_HEIGHT) {\r\n      topButton.classList.remove(\"hide\");\r\n    } else {\r\n      topButton.classList.add(\"hide\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const scrollEvent = () => {\r\n      window.addEventListener(\"scroll\", appearArrow);\r\n    };\r\n\r\n    scrollEvent();\r\n\r\n    return () => {\r\n      const removeScrollEvent = () => {\r\n        window.removeEventListener(\"scroll\", appearArrow);\r\n      };\r\n\r\n      removeScrollEvent();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <aside className=\"top_button_box\">\r\n      <button className=\"top_button \" onClick={moveTop}>\r\n        <i className=\"fas fa-arrow-circle-up hide\"></i>\r\n      </button>\r\n    </aside>\r\n  );\r\n}\r\n\r\nexport default TopButton;\r\n","import React from \"react\";\r\nimport Main from \"./routes/Main\";\r\nimport Search from \"./routes/Search\";\r\nimport MovieInfo from \"./routes/MovieInfo\";\r\nimport Header from \"./components/Header\";\r\nimport TopButton from \"./components/TopButton\";\r\nimport { HashRouter, Route } from \"react-router-dom\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <HashRouter>\r\n      <Header />\r\n      <TopButton />\r\n      <Route path=\"/\" exact={true} component={Main} />\r\n      <Route path=\"/Search\" component={Search} />\r\n      <Route path=\"/Info\" component={MovieInfo} />\r\n    </HashRouter>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}