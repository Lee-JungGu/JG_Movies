{"version":3,"sources":["components/Genre.js","components/Loader.js","components/Movie.js","components/Footer.js","routes/Main.js","routes/Search.js","components/Header.js","App.js","index.js"],"names":["Genre","getGenre","startX","currentX","className","draggable","onTouchStart","e","changedTouches","clientX","onTouchMove","document","querySelector","style","left","data-genre","onClick","Loader","name","Movie","year","title","summary","poster","genres","rating","src","alt","toString","includes","map","genre","index","length","slice","Footer","Main","state","isLoading","movies","apiUrl","pageNumber","getMovies","a","axios","get","data","setState","clickGetGenre","props","target","dataset","window","scroll","top","behavior","getPage","scrollTop","scrollingElement","scrollBottom","scrollHeight","clientHeight","numberOfMovie","loader","checkLoading","classList","add","newPage","concat","remove","scrollEvent","addEventListener","removeScrollEvent","removeEventListener","this","movie","id","medium_cover_image","React","Component","Search","Header","event","to","type","htmlFor","App","path","exact","component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.f9350d64.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./Genre.css\";\r\n\r\nfunction Genre({ getGenre }) {\r\n  let startX = 0;\r\n  let currentX = 0;\r\n  const dragStart = (e) => {\r\n    startX = e.changedTouches[0].clientX;\r\n    // console.log(\"start\", e);\r\n  };\r\n  const drag = (e) => {\r\n    const MAX_LEFT = 20;\r\n    const MAX_RIGHT = -50;\r\n    const SLIDER_SPEED = 10;\r\n    if (startX > e.changedTouches[0].clientX) {\r\n      if (currentX > MAX_RIGHT) {\r\n        currentX =\r\n          e.changedTouches[0].clientX -\r\n          (e.changedTouches[0].clientX + SLIDER_SPEED) +\r\n          currentX;\r\n      }\r\n    } else {\r\n      if (currentX < MAX_LEFT) {\r\n        currentX =\r\n          e.changedTouches[0].clientX -\r\n          (e.changedTouches[0].clientX - SLIDER_SPEED) +\r\n          currentX;\r\n      }\r\n    }\r\n    const dragMenu = document.querySelector(\".drag_menu\");\r\n    dragMenu.style.left = `${currentX}px`;\r\n    // console.log(\"ing..\", e.changedTouches[0].clientX);\r\n  };\r\n  return (\r\n    <div className=\"genre_menu\">\r\n      <ul\r\n        className=\"drag_menu\"\r\n        draggable=\"true\"\r\n        onTouchStart={dragStart}\r\n        onTouchMove={drag}\r\n      >\r\n        <li>\r\n          <p data-genre=\"all\" onClick={getGenre}>\r\n            All\r\n          </p>\r\n        </li>\r\n\r\n        <li>\r\n          <p data-genre=\"action\" onClick={getGenre}>\r\n            Action\r\n          </p>\r\n        </li>\r\n\r\n        <li>\r\n          <p data-genre=\"thriller\" onClick={getGenre}>\r\n            Thriller\r\n          </p>\r\n        </li>\r\n\r\n        <li>\r\n          <p data-genre=\"romance\" onClick={getGenre}>\r\n            Romance\r\n          </p>\r\n        </li>\r\n\r\n        <li>\r\n          <p data-genre=\"comedy\" onClick={getGenre}>\r\n            Comedy\r\n          </p>\r\n        </li>\r\n\r\n        <li>\r\n          <p data-genre=\"animation\" onClick={getGenre}>\r\n            Animation\r\n          </p>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nGenre.propTypes = {\r\n  getGenre: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Genre;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction Loader({ name }) {\r\n  return (\r\n    <div className={name}>\r\n      <span className=\"loader_text\">Loding...</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nLoader.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Loader;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport \"./Movie.css\";\r\n\r\nfunction Movie({ year, title, summary, poster, genres, rating }) {\r\n  return (\r\n    <div className=\"movie\">\r\n      <img src={poster} alt={title} title={title} />\r\n      <div className=\"movie_data\">\r\n        <h3 className=\"movie_title\">\r\n          {title} <span className=\"title_year\">{year}</span>\r\n        </h3>\r\n        <h4 className=\"movie_rating\">\r\n          {rating.toString().includes(\".\") ? rating : `${rating}.0`}\r\n        </h4>\r\n        <ul className=\"genres\">\r\n          {genres.map((genre, index) => (\r\n            <li key={index} className=\"genres_genre\">\r\n              {genre}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        <p className=\"movie_summary\">\r\n          {summary.length > 160 ? `${summary.slice(0, 160)}...` : summary}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nMovie.propTypes = {\r\n  id: PropTypes.number.isRequired,\r\n  year: PropTypes.number.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  summary: PropTypes.string.isRequired,\r\n  poster: PropTypes.string.isRequired,\r\n  genres: PropTypes.arrayOf(PropTypes.string).isRequired,\r\n  rating: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default Movie;\r\n","import React from \"react\";\r\nimport \"./Footer.css\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p>Â© JG Movies</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport Genre from \"../components/Genre\";\r\nimport Loader from \"../components/Loader\";\r\nimport Movie from \"../components/Movie\";\r\nimport Footer from \"../components/Footer\";\r\nimport \"./Main.css\";\r\nimport \"../components/Reset.css\";\r\n\r\nclass Main extends React.Component {\r\n  state = {\r\n    isLoading: true,\r\n    movies: [],\r\n    apiUrl:\r\n      \"https://yts.mx/api/v2/list_movies.json?sort_by=rating&limit=24&genre=all\",\r\n    pageNumber: 1,\r\n  };\r\n  getMovies = async () => {\r\n    const {\r\n      data: {\r\n        data: { movies },\r\n      },\r\n    } = await axios.get(this.state.apiUrl);\r\n    this.setState({ isLoading: false, movies });\r\n  };\r\n\r\n  clickGetGenre = (props) => {\r\n    const {\r\n      target: {\r\n        dataset: { genre },\r\n      },\r\n    } = props;\r\n\r\n    this.state.apiUrl !==\r\n      `https://yts.mx/api/v2/list_movies.json?sort_by=rating&limit=24&genre=${genre}` &&\r\n      this.setState({\r\n        isLoading: true,\r\n        apiUrl: `https://yts.mx/api/v2/list_movies.json?sort_by=rating&limit=24&genre=${genre}`,\r\n      });\r\n\r\n    window.scroll({\r\n      top: 0,\r\n      left: 0,\r\n      behavior: \"smooth\",\r\n    });\r\n\r\n    this.setState({ pageNumber: 1 });\r\n  };\r\n\r\n  getPage = async () => {\r\n    const scrollTop = document.scrollingElement.scrollTop;\r\n    const scrollBottom =\r\n      document.scrollingElement.scrollHeight -\r\n      document.scrollingElement.clientHeight -\r\n      200;\r\n    const numberOfMovie = this.state.movies.length;\r\n    const pageNumber = this.state.pageNumber;\r\n    const loader = document.querySelector(\".loader_scroll\");\r\n    const isLoading = this.state.isLoading;\r\n    const checkLoading = loader.className.includes(\"show\");\r\n    if (\r\n      scrollTop >= scrollBottom &&\r\n      numberOfMovie === 24 * pageNumber &&\r\n      !checkLoading &&\r\n      !isLoading\r\n    ) {\r\n      loader.classList.add(\"show\");\r\n      try {\r\n        const {\r\n          data: {\r\n            data: { movies },\r\n          },\r\n        } = await axios.get(`${this.state.apiUrl}&page=${pageNumber + 1}`);\r\n        const newPage = this.state.movies.concat(movies);\r\n        const limitPage = 16;\r\n        pageNumber < limitPage &&\r\n          this.setState({ movies: newPage, pageNumber: pageNumber + 1 });\r\n      } finally {\r\n        loader.classList.remove(\"show\");\r\n      }\r\n    }\r\n  };\r\n  scrollEvent = () => {\r\n    document.addEventListener(\"scroll\", this.getPage);\r\n  };\r\n  removeScrollEvent = () => {\r\n    document.removeEventListener(\"scroll\", this.getPage);\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getMovies();\r\n    this.scrollEvent();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.state.isLoading === false || this.getMovies();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.removeScrollEvent();\r\n  }\r\n\r\n  render() {\r\n    const { isLoading, movies } = this.state;\r\n    return (\r\n      <section className=\"container\">\r\n        <Loader name={\"loader_scroll\"} />\r\n        {isLoading ? (\r\n          <Loader name={\"loader\"} />\r\n        ) : (\r\n          <div className=\"contents\">\r\n            <Genre getGenre={this.clickGetGenre} />\r\n            <div className=\"movies\">\r\n              {movies.map((movie, index) => (\r\n                <Movie\r\n                  key={index}\r\n                  id={movie.id}\r\n                  year={movie.year}\r\n                  genres={movie.genres}\r\n                  title={movie.title}\r\n                  rating={movie.rating}\r\n                  summary={movie.summary}\r\n                  poster={movie.medium_cover_image}\r\n                />\r\n              ))}\r\n            </div>\r\n            <Footer />\r\n          </div>\r\n        )}\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\n\r\nconst Search = () => {\r\n  return (\r\n    <div>\r\n      <h1>Hello</h1>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\nimport \"./Header.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Header = ({ event }) => {\r\n  return (\r\n    <header className=\"header\">\r\n      <h1 className=\"logo\">\r\n        <Link to=\"/\">JG Movies</Link>\r\n      </h1>\r\n      <nav className=\"gnb\">\r\n        <input type=\"checkbox\" id=\"gnb_btn\" />\r\n        <label htmlFor=\"gnb_btn\" className=\"menu_bar\">\r\n          <span></span>\r\n          <span></span>\r\n          <span></span>\r\n        </label>\r\n        <ul>\r\n          <li>\r\n            <h2 data-genre=\"all\" onClick={event}>\r\n              Main\r\n            </h2>\r\n          </li>\r\n          <li className=\"gnb_genres\">\r\n            <h2>Genre</h2>\r\n          </li>\r\n          <li>\r\n            <h2>\r\n              <Link to=\"/Search\">Search</Link>\r\n            </h2>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport Main from \"./routes/Main\";\r\nimport Search from \"./routes/Search\";\r\nimport Header from \"./components/Header\";\r\nimport { HashRouter, Route } from \"react-router-dom\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <HashRouter>\r\n      <Header />\r\n      <Route path=\"/\" exact={true} component={Main} />\r\n      <Route path=\"/Search\" component={Search} />\r\n    </HashRouter>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}